# replock

指定した URL への通信をブロックしたり、別の URL にリダイレクトしたりすることができる Firefox 拡張機能です。
サーバに接続できない状態の確認や API の接続先を開発環境に向けたりできます。

## 主な機能

*   **通信のブロック**: 正規表現パターンに一致する URL へのリクエストをブロックします。
*   **通信のリダイレクト**: 正規表現パターンに一致する URL へのリクエストを、指定した別の URL にリダイレクトします。
*   **ルールの管理**: 拡張機能のポップアップ画面から、ブロックやリダイレクトのルールを簡単に追加、編集、削除できます。

## 使い方

1.  **拡張機能の読み込み**:
    *   `npm install` を実行して、依存関係をインストールします。
    *   `npm run dev:firefox` を実行して、開発モードで拡張機能を起動します。
    *   Firefox が開き、拡張機能が一時的に読み込まれます。
2.  **ルールの設定**:
    *   Firefox のツールバーにある `replock` のアイコンをクリックして、ポップアップ画面を開きます。
    *   「ルールを追加」ボタンをクリックします。
    *   ブロックまたはリダイレクトしたい URL のパターン（正規表現）と、操作（ブロックまたはリダイレクト先の URL）を入力します。
    *   「保存」ボタンをクリックすると、ルールが適用されます。

## 開発

### セットアップ

```bash
npm install
```

### 開発サーバー

Firefox でのデバッグを開始します。ファイルが変更されると自動的に再読み込みされます。

```bash
npm run dev:firefox
```

### ビルド

拡張機能の配布用ファイルをビルドします。

```bash
npm run build:firefox
```

生成された `.zip` ファイル (`.output/firefox-mv3/replock.zip` のようなパスに出力されます) を Firefox Add-ons にアップロードできます。